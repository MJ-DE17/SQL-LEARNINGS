USE		practice

BEGIN TRANSACTION

UPDATE Food
SET Price=Price+10
WHERE Category = 'Breakfast'

SELECT * FROM Food WHERE Category='Breakfast'

COMMIT

BEGIN TRANSACTION
UPDATE Food
SET IsVeg = 0


SELECT * FROM Food

ROLLBACK
SELECT * FROM Food

BEGIN TRANSACTION 

UPDATE Food
SET IsVEG = 1
WHERE FoodName LIKE '%Chicken%'

SAVE TRANSACTION NONVEGDONE

BEGIN TRANSACTION 
UPDATE Food
SET Price= Price-10
WHERE Category = 'Beverage'

SELECT FoodID,FoodName,Category,Price,IsVeg
FROM Food


ROLLBACK TRANSACTION NONVEGDONE
COMMIT

SELECT * FROM Food


BEGIN TRANSACTION 

UPDATE FOOD
SET IsVeg = 0
WHERE FoodName LIKE '%Chicken%'
SELECT * FROM Food

IF @@ROWCOUNT > 0
COMMIT
ELSE
ROLLBACK

SELECT * FROM Food
